{
  "execute_on": "lxc",
  "name": "Install Samba On-Start Script",
  "description": "Installs a drop-in script that handles full Samba setup (mirror, package, user, service) on each container start.",
  "skip_if_all_missing": ["smb_user"],
  "parameters": [
    {
      "id": "smb_user",
      "name": "Samba Username",
      "type": "string",
      "required": true,
      "description": "Username for Samba authentication"
    },
    {
      "id": "smb_password",
      "name": "Samba Password",
      "type": "string",
      "required": true,
      "secure": true,
      "description": "Password for Samba authentication"
    },
    {
      "id": "alpine_mirror",
      "name": "Alpine Mirror",
      "type": "string",
      "default": "",
      "advanced": true,
      "description": "Alpine Linux mirror URL for package installation"
    },
    {
      "id": "debian_mirror",
      "name": "Debian Mirror",
      "type": "string",
      "default": "",
      "advanced": true,
      "description": "Debian/Ubuntu mirror URL for package installation"
    }
  ],
  "commands": [
    {
      "script": "post-install-samba-on-start.sh",
      "description": "Create and run Samba on-start drop-in script"
    }
  ]
}
