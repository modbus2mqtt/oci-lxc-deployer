{
  "name": "Upload Pre-Start Config Files",
  "description": "Uploads configuration files to volume directories BEFORE container start. Paths use format {volume_key}:{filename}.",
  "execute_on": "ve",
  "skip_if_all_missing": ["addon_content", "app_content0", "app_content1", "app_content2", "app_content3"],
  "parameters": [
    {
      "id": "shared_volpath",
      "name": "Shared Volume Path",
      "type": "string",
      "description": "Base path for shared volumes (output from 150)",
      "advanced": true
    },
    {
      "id": "hostname",
      "name": "Hostname",
      "type": "string",
      "required": true,
      "description": "Container hostname (used for volume subdirectory)"
    },
    {
      "id": "addon_content",
      "name": "Addon Configuration File",
      "type": "string",
      "upload": true,
      "description": "Configuration file for addon (base64 encoded)"
    },
    {
      "id": "addon_path",
      "name": "Addon File Destination",
      "type": "string",
      "description": "Target path: {volume_key}:{filename}"
    },
    {
      "id": "app_content0",
      "name": "App Configuration File 1",
      "type": "string",
      "upload": true,
      "description": "First application configuration file"
    },
    {
      "id": "app_path0",
      "name": "App File 1 Destination",
      "type": "string",
      "description": "Target path for first app config file"
    },
    {
      "id": "app_content1",
      "name": "App Configuration File 2",
      "type": "string",
      "upload": true,
      "description": "Second application configuration file"
    },
    {
      "id": "app_path1",
      "name": "App File 2 Destination",
      "type": "string",
      "description": "Target path for second app config file"
    },
    {
      "id": "app_content2",
      "name": "App Configuration File 3",
      "type": "string",
      "upload": true,
      "description": "Third application configuration file"
    },
    {
      "id": "app_path2",
      "name": "App File 3 Destination",
      "type": "string",
      "description": "Target path for third app config file"
    },
    {
      "id": "app_content3",
      "name": "App Configuration File 4",
      "type": "string",
      "upload": true,
      "description": "Fourth application configuration file"
    },
    {
      "id": "app_path3",
      "name": "App File 4 Destination",
      "type": "string",
      "description": "Target path for fourth app config file"
    },
    {
      "id": "uid",
      "name": "UID",
      "type": "string",
      "default": "0",
      "advanced": true
    },
    {
      "id": "gid",
      "name": "GID",
      "type": "string",
      "default": "0",
      "advanced": true
    },
    {
      "id": "mapped_uid",
      "name": "Mapped UID (Host)",
      "type": "string",
      "default": "",
      "advanced": true
    },
    {
      "id": "mapped_gid",
      "name": "Mapped GID (Host)",
      "type": "string",
      "default": "",
      "advanced": true
    }
  ],
  "commands": [
    {
      "name": "Upload Pre-Start Config Files",
      "script": "conf-upload-pre-start-files.sh",
      "outputs": ["pre_start_files_uploaded"]
    }
  ]
}
