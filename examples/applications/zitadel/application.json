{
  "name": "zitadel",
  "description": "ZITADEL is an open source identity management platform.",
  "extends": "oci-image",
  "icon": "icon.png",
  "parameters": [
    {
      "id": "hostname",
      "name": "Hostname",
      "required": false,
      "type": "string",
      "description": "Hostname for the LXC container",
      "template": "100-conf-create-configure-lxc.json",
      "templatename": "Create and Configure LXC",
      "default": "zitadel"
    },
    {
      "id": "volumes",
      "name": "Volumes",
      "type": "string",
      "multiline": true,
      "required": false,
      "description": "One per line: key=/container/path",
      "template": "150-conf-create-storage-volumes-for-lxc.json",
      "templatename": "Create Storage Volumes for LXC"
    },
    {
      "id": "envs",
      "name": "Environment Variables",
      "type": "string",
      "advanced": true,
      "multiline": true,
      "default": "POSTGRES_HOST=10.0.0.50\nPOSTGRES_PORT=5432\nPOSTGRES_USER=postgres\nZITADEL_DATABASE_POSTGRES_ADMIN_PASSWORD={{ POSTGRES_PASSWORD }}\nZITADEL_DATABASE_POSTGRES_ADMIN_SSL_MODE=disable\nZITADEL_DATABASE_POSTGRES_ADMIN_USERNAME=postgres\nZITADEL_DATABASE_POSTGRES_DATABASE=zitadel\nZITADEL_DATABASE_POSTGRES_HOST=10.0.0.50\nZITADEL_DATABASE_POSTGRES_PORT=5432\nZITADEL_DATABASE_POSTGRES_USER_PASSWORD={{ POSTGRES_PASSWORD }}\nZITADEL_DATABASE_POSTGRES_USER_SSL_MODE=disable\nZITADEL_DATABASE_POSTGRES_USER_USERNAME=postgres\nZITADEL_DB=zitadel\nZITADEL_EXTERNALDOMAIN=localhost\nZITADEL_EXTERNALPORT=8080\nZITADEL_EXTERNALSECURE=false\nZITADEL_FIRSTINSTANCE_ORG_HUMAN_PASSWORD=Password1!\nZITADEL_FIRSTINSTANCE_ORG_HUMAN_USERNAME=admin\nZITADEL_PORT=8080\nZITADEL_VERSION=latest",
      "description": "Environment variables to substitute in initial_command.",
      "template": "107-conf-oci-lxc-configuration.json",
      "templatename": "Configure LXC for OCI"
    }
  ],
  "properties": [
    {
      "id": "oci_image",
      "value": "ghcr.io/zitadel/zitadel:latest"
    },
    {
      "id": "uid",
      "value": "0"
    },
    {
      "id": "username",
      "value": "root"
    },
    {
      "id": "initial_command",
      "value": "start-from-init --masterkey \"{{ ZITADEL_MASTERKEY }}\" --tlsMode disabled"
    }
  ],
  "installation": {},
  "stacktype": "postgres"
}